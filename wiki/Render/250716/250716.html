<div class="wikidoc"><h1>EncodeAndInsertBrsAndLinks Tutorial</h1>This tutorial illustrates the use of the EncodeAndInsertBrsAndLinks HtmlHelper that can be found in the DigitallyCreated.Utilities.Mvc assembly (in the EyeCandyHtmlHelpers class). It assumes you know C# and ASP.NET MVC.<br /><br />The EncodeAndInsertBrsAndLinks is great for escaping and displaying user input on a website. It encodes their input (thereby escaping any HTML they use), finds any URLs they use and puts them in unescaped &lt;a&gt; tags, and finds any line breaks and replaces them with &lt;br/&gt;s (works with \r\n as well as \n).<br /><br />Here&#39;s an example of its use in a view:<br /><br /><div style="color:Black;background-color:White;"><pre>
//Model.UserInput contains &quot;<span style="color:Blue;">&lt;</span><span style="color:#A31515;">strong</span><span style="color:Blue;">&gt;</span>Here&#39;s a great website!<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">strong</span><span style="color:Blue;">&gt;</span>\r\nhttp://www.digitallycreated.net&quot;;
<span style="background-color:Yellow;">&lt;%=</span> Html.EncodeAndInsertBrsAndLinks(Model.UserInput, <span style="color:Blue;">true</span>) <span style="background-color:Yellow;">%&gt;</span>
</pre></div><br />The first argument is the string to process, the second is whether or not you want <span class="codeInline">rel=&quot;nofollow&quot;</span> set on all &lt;a&gt; tags created.<br />This would output the following:<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Red;">&amp;lt;</span>strong<span style="color:Red;">&amp;gt;</span>Here&#39;s a great website!<span style="color:Red;">&amp;lt;</span>/strong<span style="color:Red;">&amp;gt;</span><span style="color:Blue;">&lt;</span><span style="color:#A31515;">br</span><span style="color:Blue;">/&gt;</span><span style="color:Blue;">&lt;</span><span style="color:#A31515;">a</span> <span style="color:Red;">href</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;http://www.digitallycreated.net&quot;</span> <span style="color:Red;">rel</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;nofollow&quot;</span><span style="color:Blue;">&gt;</span>http://www.digitallycreated.net<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">a</span><span style="color:Blue;">&gt;</span>
</pre></div></div><div class="ClearBoth"></div>